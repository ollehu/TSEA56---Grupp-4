\documentclass[border=10px]{standalone}
\usepackage{tikz}
\usetikzlibrary{patterns}
\usetikzlibrary{shapes.geometric}
\usetikzlibrary{shapes.arrows}
\usepackage{amssymb}
\usetikzlibrary{calc}
\usepackage{verbatim}

\pagestyle{empty}
\begin{document}

\tikzstyle{decision} = [diamond, draw,
    text width=4em, text badly centered, node distance=3cm, inner sep=0pt]
    
\tikzstyle{block} = [rectangle, draw,
    text width=7em, text centered, rounded corners, minimum height=4em]
	
\begin{tikzpicture}[scale=1]

%http://www.texample.net/tikz/examples/simple-flow-chart/

\node (robot) at (-1,4.2) {\verb+Robot+};
\node[block] (styr) at (0,0) {Styrmodul};
\node[block] (sensor) at (3.5,3) {Sensormodul};
\node[block] (huvud) at (7,0) {Huvudmodul};
\draw[dashed] (-1.65,-2) rectangle (8.6,4);

\node[block] (dator) at (15,0) {Datormodul};


\draw[-latex, bend left] (huvud) edge node[above,sloped]{Kartinformation} node[below]{Sensordata}(dator);
\draw[-latex, bend left] (dator) edge node[below]{Styrkommandon} node[above, midway, sloped]{Styrinställningar} (huvud);

\draw[-latex, bend left] (huvud) edge node[below]{Sensordata}(styr);
\draw[-latex] (huvud) edge node[above]{Styrkommandon} (styr);
\draw[-latex, bend right] (huvud) edge node[above]{Styrinställningar} (styr);

\draw[->] (sensor.east) -| node[above]{Sensordata}(huvud.north);
	\end{tikzpicture}
	
\end{document}
